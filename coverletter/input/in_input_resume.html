<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>이력서</title>
    <link rel="stylesheet" href="/interview001/header/ins_header.css">
    <link rel="stylesheet" href="/interview001/coverletter/input/ins_input_resume.css">

</head>
<body>
<div id="header"></div>

<div class="layout">

    <!-- 왼쪽 사이드바 -->
    <aside id="sidebar" class="sidebar">
        <ul>
            <li><a href="/interview001/coverletter/input/in_input_resume.html" class="active">이력서 보기/수정</a></li>
            <li><a href="/interview001/coverletter/ai/in_ai_coverletter.html">AI 자소서 피드백</a></li>
        </ul>
    </aside>
  <main class="container">
  <div class="title-badge">
    <h1>이력서 입력</h1>
    <div class="mode-badge">RESUME / COVER LETTER</div>
  </div>
    <p class="desc">학력 사항, 경력 사항, 자격증, 자기소개서를 한 번에 저장합니다.</p>

    <!-- 기본 정보 -->
    <section class="card">
      <h2>기본 정보</h2>
      <div class="row">
        <div class="field col-3">
          <label for="userId">사용자 ID</label>
          <input id="userId" type="text" placeholder="hong123" />
        </div>
      </div>
    </section>



    <!-- 학력 -->
    <section class="card">
      <h2>학력 사항</h2>
      <div id="eduList"></div>
      <div class="actions" style="justify-content: flex-start;">
        <button class="btn" type="button" id="addEduBtn">학력 추가</button>
      </div>
    </section>

    <!-- 경력 -->
    <section class="card">
      <h2>경력 사항</h2>
      <div id="expList"></div>
      <div class="actions" style="justify-content: flex-start;">
        <button class="btn" type="button" id="addExpBtn">경력 추가</button>
      </div>
    </section>

    <!-- 자격증 -->
    <section class="card">
      <h2>자격증</h2>
      <div id="certList"></div>
      <div class="actions" style="justify-content: flex-start;">
        <button class="btn" type="button" id="addCertBtn">자격증 추가</button>
      </div>
    </section>
  <template id="eduTemplate">
    <div class="item edu-item">
      <div class="item-head">
        <span>학력 사항</span>
        <button type="button" class="btn danger remove-item">삭제</button>
      </div>
      <div class="row">
        <div class="field col-4">
          <label>학교명</label>
          <input type="text" data-k="school_name" placeholder="서울대학교" />
        </div>
        <div class="field col-3">
          <label>학위</label>
          <input type="text" data-k="degree_level" placeholder="학사" />
        </div>
        <div class="field col-3">
          <label>전공</label>
          <input type="text" data-k="major" placeholder="컴퓨터공학" />
        </div>
        <div class="field col-2">
          <label>정렬순서</label>
          <input type="number" data-k="display_order" value="1" min="1" />
        </div>

        <div class="field col-2">
          <label>학점</label>
          <input type="number" step="0.01" data-k="gpa" placeholder="3.85" />
        </div>
        <div class="field col-2">
          <label>만점 기준</label>
          <input type="number" step="0.01" data-k="gpa_scale" placeholder="4.50" />
        </div>
        <div class="field col-3">
          <label>시작일</label>
          <input type="date" data-k="start_date" />
        </div>
        <div class="field col-3">
          <label>종료일</label>
          <input type="date" data-k="end_date" />
        </div>
        <div class="field col-2">
          <label>재학중(0/1)</label>
          <input type="number" data-k="is_current" value="0" min="0" max="1" />
        </div>
        <div class="field col-2">
          <label>최종학력(0/1)</label>
          <input type="number" data-k="last_edu" value="0" min="0" max="1" />
        </div>
      </div>
    </div>
  </template>

  <template id="expTemplate">
    <div class="item exp-item">
      <div class="item-head">
        <span>경력 사항</span>
        <button type="button" class="btn danger remove-item">삭제</button>
      </div>
      <div class="row">
        <div class="field col-4">
          <label>회사명</label>
          <input type="text" data-k="company_name" placeholder="삼성" />
        </div>
        <div class="field col-3">
          <label>직책</label>
          <input type="text" data-k="position" placeholder="인턴" />
        </div>
        <div class="field col-2">
          <label>근무개월수</label>
          <input type="number" data-k="career_month" value="0" min="0" />
        </div>
        <div class="field col-3">
          <label>근무지역</label>
          <input type="text" data-k="location" placeholder="서울" />
        </div>

        <div class="field col-3">
          <label>시작일</label>
          <input type="date" data-k="start_date" />
        </div>
        <div class="field col-3">
          <label>종료일</label>
          <input type="date" data-k="end_date" />
        </div>
        <div class="field col-2">
          <label>재직중(0/1)</label>
          <input type="number" data-k="is_current" value="0" min="0" max="1" />
        </div>
        <div class="field col-2">
          <label>정렬순서</label>
          <input type="number" data-k="display_order" value="1" min="1" />
        </div>
      </div>
    </div>
  </template>

  <template id="certTemplate">
    <div class="item cert-item">
      <div class="item-head">
        <span>자격증 항목</span>
        <button type="button" class="btn danger remove-item">삭제</button>
      </div>
      <div class="row">
        <div class="field col-4">
          <label>자격증명</label>
          <input type="text" data-k="cert_name" placeholder="컴활" />
        </div>
        <div class="field col-4">
          <label>자격번호</label>
          <input type="text" data-k="credential_id" placeholder="1234" />
        </div>
        <div class="field col-2">
          <label>취득일</label>
          <input type="date" data-k="issued_date" />
        </div>
        <div class="field col-2">
          <label>만료일(선택)</label>
          <input type="date" data-k="expire_date" />
        </div>
      </div>
    </div>
  </template>
      <!-- 자기소개 -->
    <section class="card">
      <h2>자기소개서</h2>
      <div class="row">
        <div class="field col-12">
          <label for="cover">
            자기소개서 입력
          </label>
          <textarea id="cover" placeholder="예) 성장과정: ...&#10;지원동기: ...&#10;입사 후 포부: ..."></textarea>
        </div>
      </div>
    </section>
       <!-- 저장 -->
    <!--<section class="card">-->
      <div class="actions">
        <button class="btn primary" id="saveBtn" type="button">전체 저장</button>
      </div>
      <div id="status" class="status" aria-live="polite"></div>
    <!--</section>-->
       </main>

</div>
</body>
<script>
fetch("/interview001/header/in_header.html")
    .then(res => res.text())
    .then(data => {

        const headerEl = document.getElementById("header");
        headerEl.innerHTML = data;

        // 햄버거 메뉴
        const hamburger = headerEl.querySelector('.hamburger');
        const menu = headerEl.querySelector('.menu');

        if(hamburger){
            hamburger.addEventListener('click', () => {
                menu.classList.toggle('active');
            });
        }

        // ⭐⭐⭐ 현재 페이지 active 표시 (핵심)
        const currentPage = window.location.pathname.split("/").pop();

        headerEl.querySelectorAll(".menu a").forEach(link => {
            const linkPage = link.getAttribute("href").split("/").pop();
            if(currentPage === linkPage){
                link.classList.add("active_attach");
            }
        });

    });
</script>
<script type="module" src="inj_input_resume.js"></script>
</html>